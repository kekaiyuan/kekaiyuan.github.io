---
layout: post
title: Java lambda表达式
categories: Java
description: some word here
keywords: Java
---

# 代码进化之路
通过下文来一看为什么jdk8会有lambda表达式的诞生

现在有一个Student类
```java
public class Student {
    private String name;
    private int age;
    private int score;
	//无参构造方法、有参构造方法、对应的get和set方法省略
	...
}
```
我们现在需要将Student类的对象根据不同的要求输出，假设现在需要输出`age > 14`的对象和`score>75`的对象

- 基础版
	- `age > 14`
	 ```java
	  public static void findByAge(ArrayList<Student> students) {
        ArrayList<Student> list = new ArrayList<>();
        for (Student stu : students) {
            if(stu.getAge() > 14) {
                list.add(stu);
            }
        }
        for (Student student : list) {
            System.out.println(student);
        }
    }
	  ```
	- `score>75`
```java
	public static void findByScore(ArrayList<Student> students) {
		ArrayList<Student> list = new ArrayList<>();
		for (Student stu : students) {
			if(stu.getScore() > 75) {
				list.add(stu);
			}
		}
		for (Student student : list) {
			System.out.println(student);
		}
	}
```
	- 直接编写对应的方法，这是最基础也最容易理解的。
		- 有多少个要求就编写多少个对应的方法，代码量大，程序臃肿
- 策略模式版
	- 引进策略模式，策略模式的连接[enter description here](阿斯蒂芬去玩儿)
	- 策略角色
		- ```java
				public interface StudentFilter {
					boolean compare(Student student);
				}
		  ```
	- 具体策略角色
		- ```java
			public class AgeFilter implements StudentFilter{
				@Override
				public boolean compare(Student student) {
					return student.getAge()>14;
				}
			}
		  ```
	- 如何调用
		- ```java
			public static void main(String[] args) {
				ArrayList<Student> list = new ArrayList<Student>();
				list.add(...);
				list.add(...);
				...
				getByFilter(list, new AgeFilter());
			}
			public static void getByFilter(ArrayList<Student> students, StudentFilter filter) {
				ArrayList<Student> list = new ArrayList<>();
					for (Student student : students) {
						if (filter.compare(student)) {
							list.add(student);
						}
					}
				for (Student student : list) {
					System.out.println(student);
				}
			}
		  ```
		- 针对不同的要求，我们只需要采取不同的策略就可以了，比如说我们现在新增了一个要求是输出分数大于75的Student对象
			- 新增具体策略角色
			  ```java
				public class ScoreFilter implements StudentFilter{
					@Override
					public boolean compare(Student student) {
						return student.getScore()>75;
					}
				}
			  ```
			- 调用新策略
				- `getByFilter(list, new ScoreFilter());`
			- 