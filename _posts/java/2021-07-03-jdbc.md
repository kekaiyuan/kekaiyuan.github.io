---
layout: post
title: JDBC
categories: [cate1, cate2]
description: some word here
keywords: keyword1, keyword2
---

JDBC

## JDBC介绍
- JDBC (Java Database Connectivity) 是基于JAVA语言访问数据库的一种技术。
- JDBC是一种用于执行SQL语句的Java API，可以为多种关系数据库提供统一访问，它由一组用Java语言编写的类和接口组成。<br>
	JDBC提供了一种基准，据此可以构建更高级的工具和接口，使数据库开发人员能够编写数据库应用程序。<br>
	同时，JDBC也是个商标名。
- JDBC的设计思想：由SUN公司(JCP)提供访问数据库的接口，由数据库厂商提供对这些接口的实现，程序员编程时都是针对接口进行编程的。
- JDBC包括一套JDBC的API和一套程序员和数据库厂商都必须去遵守的规范。
	- java.sql包：提供访问数据库基本的功能
	- javax.sql包：提供扩展的功能
- 数据库中间件
- JDBC可以做些什么？
	- 连接到数据库
	- 在Java app中执行SQL命令
	- 处理结果。


## 源码
使用 JDBC 连接数据库需要按照步骤



数据库连接池
连接10次，无限建立连接、断开连接
使用连接池，拿走连接，放回连接

D:\DK\Soft\Oracle\product\11.2.0\dbhome_1\jdbc\lib\ojdbc6.jar

D:\DK\Soft\Oracle\product\11.2.0\dbhome_1\oui\jlib\classes12.jar

 thin是连接数据库的方式




1. 加载驱动<br>
	选择加载哪一个数据库。
```java
Class.forName("oracle.jdbc.driver.OracleDriver");
```

2. 建立连接<br>
	连接数据库。<br>
	```java
	Connection connection = DriverManager.
		getConnection("jdbc:oracle:thin:@localhost:1521:orcl", "scott", "tiger");
	```
	参数：
	- url<br>
		数据库的地址
	- username<br>
		用户名
	- password<br>
		密码

3. 测试连接是否成功
	```java
	if(connection != null){
		System.out.println("连接成功");
	}else{
		System.out.println("连接失败");
	}
	```

4. 定义 sql 语句<br>
	只要填写正常执行的 sql 语句即可，不要在 sql 语句中加 ; 号
	```java
	String sql = "select * from emp";
	```

5. 创建静态处理块对象，用于存放 sql 语句。<br>
	该对象执行的时候，数据库会从中拿到 sql 语句并执行。
	```java
	Statement statement = connection.createStatement();
	```

6. 执行sql语句，返回的是一个集合。<br>
	```java
	ResultSet resultSet = statement.executeQuery(sql);
	```
	共有三种执行方式：
	1. execute<br>
		任何SQL语句都可以执行
	2. executeQuery<br>
		只能执行查询语句
	3. executeUpdate<br>
		只能执行更新语句

7. 遍历结果集合，读取数据库中的数据。<br>
	有两种读取方式：
	1. 通过**下标**索引编号，从 **1** 开始
	2. **推荐**通过**列名**来获取，因为列名一般不会发生修改
	```java
	while (resultSet.next()) {
		//读取第一列
		int anInt = resultSet.getInt(1);
		System.out.println(anInt);

		//读取 ename
		String ename = resultSet.getString("ename");
		System.out.println(ename);

		...
	}
	```

8. 关闭连接
	```java
	statement.close();
	connection.close();
	```

## 源码链接
该文章源码链接 [Github](url)