---
layout: post
title: Oracle 之——范式
categories: Oracle
description: Oracle 之——范式
keywords: Oracle, 范式
---

Oracle 之——范式

在设计和数据库有关的系统时，数据库表的设计至关重要，这些设计关系整个系统的架构，需要精心的仔细考虑。

数据库的设计主要包含了设计表结构和表之间的联系，在设计的过程中，有一些规则应该遵守。

## 第一范式
在任何一个关系数据库中，第一范式（1NF）是对关系模式的基本要求，不满足第一范式（1NF）的数据库就不是关系数据库。

所谓第一范式（1NF）是指数据库表的每一列都是不可分割的基本数据项，同一列中不能有多个值，即实体中的某个属性不能有多个值或者不能有重复的属性。<br>
如果出现重复的属性，就可能需要定义一个新的实体，新的实体由重复的属性构成，新实体与原实体之间为一对多关系。在第一范式（1NF）中表的每一行只包含一个实例的信息。

简而言之，第一范式就是无重复的列。

满足第一范式的两大步骤：
1. 列不可分<br>
	
	| 编号 | 姓名 | 性别，年龄 |
	| ------ | ------ | --------------- | 
	| 1 | 张三 | 男，21 |
	| 2 | 王五 | 男，22 |
	| 3 | 李四 | 女，23 |
	
	该表的第三列就很明显可以拆分，应该设计成这样
	
	| 编号 | 姓名 | 性别 | 年龄 |
	| ---- | ---- | ---- | ---- |
	| 1 | 张三 | 男 | 21 |
	| 2 | 王五 | 男 | 22 |
	| 3 | 李四 | 女 | 23 |
	
	有时候列应该划分到何程度应该视具体情况而定。
	- 有些数据库中**姓名**是一列。<br>
		而有些数据库中**姓**是一列，**名**是一列。<br>
	- 有些数据库中**地址**是一列。<br>
		而有些数据库中**省份**是一列，**城市**是一列，**市区**是一列……
	- 这个取决于数据库实际运用于哪种场景。
	
2. 无重复属性

	| 编号 | 姓名 | 性别 | 年龄 | 部门ID | 部门名称 | 部门地点 |
	| ---- | ---- | ---- | ---- | ---- | ---- | ---- |
	| 1 | 张三 | 男 | 21 | 1 | 人事部 | 一楼 |
	| 2 | 王五 | 男 | 22 | 1 | 人事部 | 一楼 |
	| 3 | 李四 | 女 | 23 | 2 | 市场部 | 二楼 |
	| ... | ... | ... | ... | ... | ... | ... |
	
	假设该数据库中有 4 个部门，有 1000 名员工。<br>
	那么部门名称和部门地点将重复 1000 遍。<br>
	此时应该将表进行拆分，将重复属性提取出来。
	
	员工表
	
	| 编号 | 姓名 | 性别 | 年龄 | 部门ID |
	| ---- | ---- | ---- | ---- | ---- |
	| 1 | 张三 | 男 | 21 | 1 |
	| 2 | 王五 | 男 | 22 | 1 |
	| 3 | 李四 | 女 | 23 | 2 |
	| ... | ... | ... | ... | ... |
	
	部门表
	
	| 部门ID | 部门名称 | 部门地点 |
	| ---- | ---- | ---- |
	| 1 | 人事部 | 一楼 |
	| 2 | 市场部 | 二楼 |
	| 3 | 开发部 | 三楼 |
	| 4 | 财务部 | 四楼 |
	
	此时部门表与员工表之间的关系是一对多：<br>
	一个部门对应多个员工。
	
	
	
	
	
- 确保每列保持原子性) 
- 第一范式是**最基本**的范式。<br>
	如果数据库表中的所有字段值都是**不可分解**的原子值，就说明该数据库表满足了第一范式。 
- 第一范式的合理遵循需要根据系统的**实际需求**来定。<br>
	比如某些数据库系统中需要用到“地址”这个属性。<br>
	本来直接将“地址”属性设计成一个数据库表的字段就行。<br>
	但是如果系统经常会访问“地址”属性中的“城市”部分，那么就得将“地址”这个属性重新拆分为省份、城市、详细地址等多个部分进行存储，这样在对地址中某一部分操作的时候将非常方便。<br>
	这样设计才算满足了数据库的第一范式，如下表所示。


## 源码链接
该文章源码链接 [Github](url)